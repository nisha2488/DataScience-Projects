{"name":"FrescoBot","intents":[{"intent":"goodbyes","examples":[{"text":"Adios"},{"text":"goodbye"},{"text":"have a great day!"},{"text":"thanks for the help"},{"text":"talk to you later"},{"text":"leave"},{"text":"end the conversation"},{"text":"ok bye"}],"description":"End the conversation"},{"intent":"negative_response","examples":[{"text":"Nope"},{"text":"no"},{"text":"that's not correct"},{"text":"that's incorrect"},{"text":"not yet"},{"text":"not right"},{"text":"not"},{"text":"naah"},{"text":"that is wrong"}],"description":"Negative reactions from the user"},{"intent":"show_menu","examples":[{"text":"Please show me the menu"},{"text":"what all do you have"},{"text":"what's on the menu"},{"text":"what do you offer"},{"text":"what do you serve"},{"text":"suggest something for my order"},{"text":"I am not able to decide my order"},{"text":"I want to order something"},{"text":"I want to place an order"}],"description":"Display menu to the user"},{"intent":"greetings","examples":[{"text":"Hey"},{"text":"how are you"},{"text":"what's up"},{"text":"hello"},{"text":"good morning"},{"text":"good afternoon"},{"text":"hey there"},{"text":"howdy"}],"description":"Respond to greeting from the user"},{"intent":"positive_response","examples":[{"text":"Yes."},{"text":"That's all."},{"text":"yes"},{"text":"yeah"},{"text":"yup"},{"text":"this is good"},{"text":"done"}],"description":"Positive reactions from the user"}],"entities":[{"entity":"ceaser_dressing","values":[{"type":"synonyms","value":"mixed","metadata":null,"synonyms":[]},{"type":"synonyms","value":"side","metadata":null,"synonyms":[]}],"metadata":null,"description":null,"fuzzy_match":false},{"entity":"menu_items","values":[{"type":"synonyms","value":"ceaser salad","metadata":null,"synonyms":["ceaser"]},{"type":"synonyms","value":"coke","metadata":null,"synonyms":["drink"]},{"type":"synonyms","value":"burger","metadata":null,"synonyms":[]},{"type":"synonyms","value":"garden salad","metadata":null,"synonyms":["garden"]},{"type":"synonyms","value":"ice-tea","metadata":null,"synonyms":["tea"]},{"type":"synonyms","value":"fries","metadata":null,"synonyms":[]},{"type":"synonyms","value":"ribs","metadata":null,"synonyms":["meat"]},{"type":"synonyms","value":"salmon","metadata":null,"synonyms":["fish","sea food"]},{"type":"synonyms","value":"fettucine al pesto","metadata":null,"synonyms":["fettucine","pesto","pasta","italian"]},{"type":"synonyms","value":"beer","metadata":null,"synonyms":[]},{"type":"synonyms","value":"water","metadata":null,"synonyms":[]},{"type":"synonyms","value":"lemonade","metadata":null,"synonyms":["lemon juice","fruit drink"]},{"type":"synonyms","value":"sprite","metadata":null,"synonyms":["beverage"]}],"metadata":null,"description":null},{"entity":"garden_dressing","values":[{"type":"synonyms","value":"side","metadata":null,"synonyms":[]},{"type":"synonyms","value":"mixed","metadata":null,"synonyms":[]}],"metadata":null,"description":null,"fuzzy_match":false},{"entity":"tea_type","values":[{"type":"synonyms","value":"sweetened","metadata":null,"synonyms":[]},{"type":"synonyms","value":"unsweetened","metadata":null,"synonyms":[]}],"metadata":null,"description":null},{"entity":"location","values":[{"type":"synonyms","value":"Carmel","metadata":null,"synonyms":["fourth","4"]},{"type":"synonyms","value":"San Francisco","metadata":null,"synonyms":["SF","first","1","any"]},{"type":"synonyms","value":"Berkeley","metadata":null,"synonyms":["third","3","closest"]},{"type":"synonyms","value":"San Jose","metadata":null,"synonyms":["second","2"]},{"type":"synonyms","value":"Novato","metadata":null,"synonyms":["fifth","5"]}],"metadata":null,"description":null}],"language":"en","metadata":{"api_version":{"major_version":"v1","minor_version":"2017-05-26"}},"description":"Virtual  Agent for assisting with orders for pickup.","dialog_nodes":[{"type":"response_condition","title":null,"output":{"text":{"values":["Can you reword your statement? I'n not understanding.","I am not able to understand. Please try rephrasing.","I am having trouble understanding you. Try asking your question in a different way."],"selection_policy":"sequential"}},"parent":"Anything else","context":null,"metadata":{},"next_step":null,"conditions":"","description":null,"dialog_node":"node_4_1518832765591","previous_sibling":"node_3_1518832740583"},{"type":"response_condition","title":null,"output":{"text":{"values":["I did not understand that. You can try rephrasing"]}},"parent":"Anything else","context":{"default_counter":"<?$default_counter+1?>"},"metadata":{},"next_step":null,"conditions":"$default_counter == 0","description":null,"dialog_node":"node_3_1518832740583","previous_sibling":"node_2_1518832665961"},{"type":"response_condition","title":null,"output":{"text":{"values":["Your order has already been placed. If you want to make any changes, please reach out to our human agent on 12345678 for further assistance. Please start over to place a new order.","Can you reword your statement? I'm not understanding.","I didn't get your meaning."],"selection_policy":"sequential"}},"parent":"Anything else","context":null,"metadata":{},"next_step":null,"conditions":"$order_placed == \"yes\"","description":null,"dialog_node":"node_2_1518832665961","previous_sibling":null},{"type":"standard","title":"Done removing","output":{"text":{"values":["Your order has been updated."],"selection_policy":"sequential"}},"parent":"node_11_1518769124174","context":{"default_remove_counter":0},"metadata":{"_customization":{"mcr":false}},"next_step":{"behavior":"jump_to","selector":"body","dialog_node":"node_88_1518681851237"},"conditions":"$to_remove.size() == 0 && $ordered_items.size() > 0","description":null,"dialog_node":"node_27_1518775187731","digress_out":"allow_all","previous_sibling":"node_15_1518770861207"},{"type":"response_condition","title":null,"output":{"text":{"values":[]}},"parent":"node_11_1518769124174","context":{"to_remove":"<? $to_remove.append(@menu_items.values) ?>"},"metadata":{},"next_step":null,"conditions":"@menu_items and $to_remove.size() == 0","description":null,"dialog_node":"node_12_1518769186038","previous_sibling":"node_27_1518775187731"},{"type":"response_condition","title":null,"output":{"text":{"values":[]}},"parent":"node_11_1518769124174","context":{"to_remove":"<? $to_remove.remove(0) ?>"},"metadata":{},"next_step":null,"conditions":"$to_remove.size() > 0","description":null,"dialog_node":"node_13_1518770407781","previous_sibling":"node_12_1518769186038"},{"type":"standard","title":"Removed all items","output":{"text":{"values":["Looks like you have cancelled your order."],"selection_policy":"sequential"}},"parent":"node_11_1518769124174","context":{"all_tea":[],"order_cancelled":"yes","all_ceaser_salad":[],"all_garden_salad":[],"default_remove_counter":0,"default_confirm_counter":0},"metadata":{},"next_step":{"behavior":"jump_to","selector":"body","dialog_node":"node_3_1518746313629"},"conditions":"$to_remove.size() == 0 && $ordered_items.size() == 0","description":null,"dialog_node":"node_15_1518770861207","previous_sibling":"node_8_1518764341701"},{"type":"frame","title":"Remove items one by one","output":{},"parent":"node_11_1518769124174","context":null,"metadata":{"_customization":{"mcr":true}},"next_step":{"behavior":"jump_to","selector":"body","dialog_node":"node_11_1518769124174"},"conditions":"$to_remove.size() > 0","description":null,"dialog_node":"node_8_1518764341701","digress_out":"allow_all","previous_sibling":null,"digress_out_slots":"not_allowed"},{"type":"standard","title":"Bad command","output":{},"parent":"node_88_1518681851237","context":{"default_confirm_counter":"<?$default_confirm_counter+1?>"},"metadata":{},"next_step":{"behavior":"jump_to","selector":"body","dialog_node":"node_88_1518681851237"},"conditions":"$default_confirm_counter < 3","description":null,"dialog_node":"node_3_1518829824461","previous_sibling":"node_6_1518833767089"},{"type":"standard","title":"Add to the order","output":{"text":{"values":["Sure!"],"selection_policy":"sequential"}},"parent":"node_88_1518681851237","context":{"default_confirm_counter":0},"metadata":{},"next_step":{"behavior":"jump_to","selector":"body","dialog_node":"node_3_1518746313629"},"conditions":"input.text.contains('add')","description":null,"dialog_node":"node_1_1518832010241","previous_sibling":"node_89_1518683454807"},{"type":"response_condition","title":null,"output":{"text":{"values":["I did not understand that. Please type 'done' to confirm your order, 'add' to include more items, 'remove' to remove any of the ordered items or 'cancel' to cancel the order."]}},"parent":"node_88_1518681851237","context":null,"metadata":{},"next_step":null,"conditions":"","description":null,"dialog_node":"node_5_1518829901599","previous_sibling":"node_4_1518829891065"},{"type":"standard","title":"Cancel","output":{"text":{"values":["I have cancelled your order."],"selection_policy":"sequential"}},"parent":"node_88_1518681851237","context":{"all_tea":[],"ordered_items":[],"order_cancelled":"yes","all_ceaser_salad":[],"all_garden_salad":[],"default_confirm_counter":0},"metadata":{},"next_step":{"behavior":"jump_to","selector":"body","dialog_node":"node_3_1518746313629"},"conditions":"input.text.contains('cancel')","description":null,"dialog_node":"node_6_1518833767089","previous_sibling":"node_7_1518764253651"},{"type":"standard","title":"Confirmed","output":{"text":{"values":["Thanks for the confirmation!"],"selection_policy":"sequential"}},"parent":"node_88_1518681851237","context":{"order_confirmed":"yes","default_confirm_counter":0},"metadata":{},"next_step":{"behavior":"jump_to","selector":"body","dialog_node":"node_92_1518684016177"},"conditions":"input.text.contains('done')","description":null,"dialog_node":"node_89_1518683454807","previous_sibling":"node_5_1518829901599"},{"type":"standard","title":"Remove","output":{},"parent":"node_88_1518681851237","context":null,"metadata":{"_customization":{"mcr":true}},"next_step":null,"conditions":"input.text.contains('remove')","description":null,"dialog_node":"node_7_1518764253651","digress_out":"allow_all","previous_sibling":"node_1_1518832010241"},{"type":"response_condition","title":null,"output":{"text":{"values":["You have ordered <? $ordered_items.join(', ') ?>. Please type 'done' to confirm your order, 'add' to include more items, 'remove' to remove any of the ordered items or 'cancel' to cancel the order."],"selection_policy":"sequential"}},"parent":"node_88_1518681851237","context":null,"metadata":{},"next_step":null,"conditions":"$default_confirm_counter == 0","description":null,"dialog_node":"node_4_1518829891065","previous_sibling":null},{"type":"slot","title":null,"output":{},"parent":"node_6_1518661751236","context":null,"metadata":{"_customization":{"mcr":null}},"variable":"$garden_dressing","next_step":null,"conditions":"context['new_items'].contains('garden salad')","description":null,"dialog_node":"slot_10_1518665427672","previous_sibling":"slot_7_1518665347183"},{"type":"response_condition","title":null,"output":{},"parent":"node_6_1518661751236","context":null,"disabled":true,"metadata":{},"next_step":null,"conditions":null,"description":null,"dialog_node":"node_22_1518669932749","previous_sibling":"slot_16_1518774157841"},{"type":"slot","title":null,"output":{},"parent":"node_6_1518661751236","context":null,"metadata":{},"variable":"$ceaser_dressing","next_step":null,"conditions":"context['new_items'].contains('ceaser salad')","description":null,"dialog_node":"slot_16_1518774157841","previous_sibling":"slot_10_1518665427672"},{"type":"slot","title":null,"output":{},"parent":"node_6_1518661751236","context":null,"metadata":{"_customization":{"mcr":null}},"variable":"$tea_type","next_step":null,"conditions":"context['new_items'].contains('ice-tea')","description":null,"dialog_node":"slot_7_1518665347183","previous_sibling":null},{"type":"event_handler","title":null,"output":{},"parent":"slot_7_1518665347183","context":{"all_tea":"<? $all_tea.append(@tea_type.value) ?>","tea_type":"@tea_type"},"metadata":{},"next_step":null,"conditions":"@tea_type","event_name":"input","description":null,"dialog_node":"handler_8_1518665347183","previous_sibling":"handler_9_1518665347183"},{"type":"event_handler","title":null,"output":{"text":{"values":["I will make sure your ice-tea is just the way you want."],"selection_policy":"sequential"}},"parent":"slot_7_1518665347183","context":null,"metadata":{},"next_step":null,"conditions":null,"event_name":"filled","description":null,"dialog_node":"handler_81_1518680471153","previous_sibling":"handler_8_1518665347183"},{"type":"event_handler","title":null,"output":{"text":{"values":["I did not understand"],"selection_policy":"sequential"}},"parent":"slot_7_1518665347183","context":null,"metadata":{},"next_step":null,"conditions":null,"event_name":"nomatch","description":null,"dialog_node":"handler_82_1518680471153","previous_sibling":"handler_81_1518680471153"},{"type":"event_handler","title":null,"output":{"text":"Would you like the ice-tea with or without sugar? Please type sweetened or unsweetened."},"parent":"slot_7_1518665347183","context":null,"metadata":{},"next_step":null,"conditions":null,"event_name":"focus","description":null,"dialog_node":"handler_9_1518665347183","previous_sibling":null},{"type":"response_condition","title":null,"output":{"text":{"values":["Our dishes include burger and fries, fettucine al pesto, ribs, salmon, garden salad and ceaser salad. For drinks, we have water, coke, sprite, lemonade, ice tea, beer. What would you like to order?"],"selection_policy":"sequential"}},"parent":"node_3_1518746313629","context":{"menu_shown":1},"metadata":{},"next_step":null,"conditions":"$menu_shown < 1","description":null,"dialog_node":"node_1_1518828615621","previous_sibling":"node_2_1518828650883"},{"type":"response_condition","title":null,"output":{"text":{"values":["Let's revisit the menu. We serve burger and fries, fettucine al pesto, ribs, salmon, garden salad and ceaser salad. For the drinks we have water, coke, sprite, lemonade, ice tea, beer. What would you like to order?"]}},"parent":"node_3_1518746313629","context":{"menu_shown":1},"metadata":{},"next_step":null,"conditions":"","description":null,"dialog_node":"node_7_1518833996864","previous_sibling":"node_1_1518828615621"},{"type":"response_condition","title":null,"output":{"text":{"values":["If you want to place a new order, you can choose from our dishes that include burger and fries, fettucine al pesto, ribs, salmon, garden salad and ceaser salad. For the drinks we have water, coke, sprite, lemonade, ice tea, beer. What would you like to order?"]}},"parent":"node_3_1518746313629","context":{"menu_shown":1,"order_cancelled":"no"},"metadata":{},"next_step":null,"conditions":"$order_cancelled==\"yes\"","description":null,"dialog_node":"node_2_1518828650883","previous_sibling":null},{"type":"event_handler","title":null,"output":{},"parent":"slot_16_1518774157841","context":{"ceaser_dressing":"@ceaser_dressing","all_ceaser_salad":"<? $all_ceaser_salad.append(@ceaser_dressing) ?>"},"metadata":{},"next_step":null,"conditions":"@ceaser_dressing","event_name":"input","description":null,"dialog_node":"handler_17_1518774157841","previous_sibling":"handler_18_1518774157841"},{"type":"event_handler","title":null,"output":{"text":{"values":["Sure, I will take care of that."],"selection_policy":"sequential"}},"parent":"slot_16_1518774157841","context":null,"metadata":{},"next_step":null,"conditions":null,"event_name":"filled","description":null,"dialog_node":"handler_23_1518774318353","previous_sibling":"handler_17_1518774157841"},{"type":"event_handler","title":null,"output":{"text":"Would you like the dressing on side or mixed in the salad?"},"parent":"slot_16_1518774157841","context":null,"metadata":{},"next_step":null,"conditions":null,"event_name":"focus","description":null,"dialog_node":"handler_18_1518774157841","previous_sibling":null},{"type":"response_condition","title":null,"output":{"text":{"values":["Your order has been updated."],"selection_policy":"sequential"}},"parent":"node_27_1518775187731","context":{"default_remove_counter":0},"disabled":true,"metadata":{},"next_step":null,"conditions":null,"description":null,"dialog_node":"node_21_1519177627613","previous_sibling":null},{"type":"response_condition","title":null,"output":{"text":{"values":["Hello! I am doing good. I am here to help you place an order with Fresco. Just say the word."]}},"parent":"node_1_1519083859469","context":null,"metadata":{},"next_step":null,"conditions":null,"description":null,"dialog_node":"node_4_1519085760635","previous_sibling":"node_3_1519085725650"},{"type":"response_condition","title":null,"output":{"text":{"values":["Hi! I was happy to help you today. Please start over to place a new order."],"selection_policy":"sequential"}},"parent":"node_1_1519083859469","context":null,"metadata":{},"next_step":null,"conditions":"$order_placed==\"yes\"","description":null,"dialog_node":"node_3_1519085725650","previous_sibling":null},{"type":"standard","title":"Invalid item","output":{"text":{"values":[],"selection_policy":"sequential"}},"parent":"node_7_1518764253651","context":{"default_remove_counter":"<?$default_remove_counter+1?>"},"metadata":{},"next_step":{"behavior":"jump_to","selector":"body","dialog_node":"node_7_1518764253651"},"conditions":"true","description":null,"dialog_node":"node_6_1518830251819","previous_sibling":"node_11_1518769124174"},{"type":"response_condition","title":null,"output":{"text":{"values":["Okay. Please mention all the items that you want to remove."],"selection_policy":"sequential"}},"parent":"node_7_1518764253651","context":{"default_confirm_counter":0},"metadata":{},"next_step":null,"conditions":"$default_remove_counter == 0","description":null,"dialog_node":"node_8_1518835789303","previous_sibling":"node_6_1518830251819"},{"type":"response_condition","title":null,"output":{"text":{"values":["I am sorry, I did not understand that. Please mention the items that you want to remove from your order."]}},"parent":"node_7_1518764253651","context":null,"metadata":{},"next_step":null,"conditions":null,"description":null,"dialog_node":"node_9_1518835809213","previous_sibling":"node_8_1518835789303"},{"type":"standard","title":"Start removal","output":{},"parent":"node_7_1518764253651","context":null,"metadata":{"_customization":{"mcr":true}},"next_step":{"behavior":"skip_user_input"},"conditions":"@menu_items","description":null,"dialog_node":"node_11_1518769124174","digress_out":"allow_all","previous_sibling":null},{"type":"response_condition","title":null,"output":{"text":{"values":[]},"deleted_variable":"<? context.remove('ceaser_dressing') ?>"},"parent":"node_8_1518764341701","context":{"ordered_items":"<? $ordered_items.removeValue($to_remove.get(0)) ?>","all_ceaser_salad":"<? $all_ceaser_salad.removeValue($ceaser_dressing) ?>"},"metadata":{},"next_step":null,"conditions":"context['ordered_items'].contains($to_remove.get(0)) && $ceaser_dressing","description":null,"dialog_node":"node_2_1519182529390","previous_sibling":"node_1_1519182456039"},{"type":"response_condition","title":null,"output":{"text":{"values":[]}},"parent":"node_8_1518764341701","context":{"ordered_items":"<? $ordered_items.removeValue($to_remove.get(0)) ?>","all_ceaser_salad":"<? $all_ceaser_salad.remove(0) ?>"},"metadata":{},"next_step":null,"conditions":"context['ordered_items'].contains($to_remove.get(0)) && $to_remove.get(0) == \"ceaser salad\"","description":null,"dialog_node":"node_3_1519182663747","previous_sibling":"node_2_1519182529390"},{"type":"response_condition","title":null,"output":{"text":{"values":[]}},"parent":"node_8_1518764341701","context":{"ordered_items":"<? $ordered_items.removeValue($to_remove.get(0)) ?>"},"metadata":{},"next_step":null,"conditions":"context['ordered_items'].contains($to_remove.get(0))","description":null,"dialog_node":"node_4_1519181064106","previous_sibling":"node_3_1519182663747"},{"type":"slot","title":null,"output":{},"parent":"node_8_1518764341701","context":null,"metadata":{},"variable":"$tea_type","next_step":null,"conditions":"context['ordered_items'].contains($to_remove.get(0)) && $to_remove.get(0) == \"ice-tea\" && context['all_tea'].contains(\"sweetened\") && context['all_tea'].contains(\"unsweetened\")","description":null,"dialog_node":"slot_4_1519175585156","previous_sibling":"node_1_1519180996638"},{"type":"response_condition","title":null,"output":{"text":{"values":[]}},"parent":"node_8_1518764341701","context":{"all_tea":"<? $all_tea.remove(0) ?>","ordered_items":"<? $ordered_items.removeValue($to_remove.get(0)) ?>"},"metadata":{},"next_step":null,"conditions":"context['ordered_items'].contains($to_remove.get(0)) && $to_remove.get(0) == \"ice-tea\"","description":null,"dialog_node":"node_1_1519180996638","previous_sibling":"node_9_1518764976173"},{"type":"response_condition","title":null,"output":{"text":{"values":["<? $to_remove.get(0) ?> is not present in your order."]}},"parent":"node_8_1518764341701","context":{"ordered_items":"<? $ordered_items.removeValue(@menu_items.value) ?>"},"metadata":{},"next_step":null,"conditions":"true","description":null,"dialog_node":"node_10_1518766303853","previous_sibling":"node_4_1519181064106"},{"type":"slot","title":null,"output":{},"parent":"node_8_1518764341701","context":null,"metadata":{},"variable":"$ceaser_dressing","next_step":null,"conditions":"context['ordered_items'].contains($to_remove.get(0)) && $to_remove.get(0) == \"ceaser salad\" && context['all_ceaser_salad'].contains(\"side\") && context['all_ceaser_salad'].contains(\"mixed\")","description":null,"dialog_node":"slot_16_1519182001732","previous_sibling":"slot_7_1519181763261"},{"type":"slot","title":null,"output":{},"parent":"node_8_1518764341701","context":null,"metadata":{},"variable":"$garden_dressing","next_step":null,"conditions":"context['ordered_items'].contains($to_remove.get(0)) && $to_remove.get(0) == \"garden salad\" && context['all_garden_salad'].contains(\"side\") && context['all_garden_salad'].contains(\"mixed\")","description":null,"dialog_node":"slot_7_1519181763261","previous_sibling":"slot_4_1519175585156"},{"type":"response_condition","title":null,"output":{"text":{"values":[]},"deleted_variable":"<? context.remove('garden_dressing') ?>"},"parent":"node_8_1518764341701","context":{"ordered_items":"<? $ordered_items.removeValue($to_remove.get(0)) ?>","all_garden_salad":"<? $all_garden_salad.removeValue($garden_dressing) ?>"},"metadata":{},"next_step":null,"conditions":"context['ordered_items'].contains($to_remove.get(0)) && $garden_dressing","description":null,"dialog_node":"node_23_1519182113480","previous_sibling":"slot_16_1519182001732"},{"type":"response_condition","title":null,"output":{"text":{"values":[]}},"parent":"node_8_1518764341701","context":{"ordered_items":"<? $ordered_items.removeValue($to_remove.get(0)) ?>","all_garden_salad":"<? $all_garden_salad.remove(0) ?>"},"metadata":{},"next_step":null,"conditions":"context['ordered_items'].contains($to_remove.get(0)) && $to_remove.get(0) == \"garden salad\"","description":null,"dialog_node":"node_1_1519182456039","previous_sibling":"node_23_1519182113480"},{"type":"response_condition","title":null,"output":{"text":{"values":[]},"deleted_variable":"<? context.remove('tea_type') ?>"},"parent":"node_8_1518764341701","context":{"all_tea":"<? $all_tea.removeValue($tea_type) ?>","ordered_items":"<? $ordered_items.removeValue($to_remove.get(0)) ?>"},"metadata":{},"next_step":null,"conditions":"context['ordered_items'].contains($to_remove.get(0)) && $tea_type","description":null,"dialog_node":"node_9_1518764976173","previous_sibling":null},{"type":"event_handler","title":null,"output":{},"parent":"slot_7_1519181763261","context":{"garden_dressing":"@garden_dressing"},"metadata":{},"next_step":null,"conditions":"@garden_dressing","event_name":"input","description":null,"dialog_node":"handler_8_1519181763261","previous_sibling":"handler_9_1519181763261"},{"type":"event_handler","title":null,"output":{"text":"Would you like to remove the one with side dressing or the one with the dressing mixed in the salad? Please type side or mixed."},"parent":"slot_7_1519181763261","context":null,"metadata":null,"next_step":null,"conditions":null,"event_name":"focus","description":null,"dialog_node":"handler_9_1519181763261","previous_sibling":null},{"type":"event_handler","title":null,"output":{},"parent":"slot_4_1519175585156","context":{"tea_type":"@tea_type"},"metadata":{},"next_step":null,"conditions":"@tea_type","event_name":"input","description":null,"dialog_node":"handler_5_1519175585156","previous_sibling":"handler_6_1519175585156"},{"type":"event_handler","title":null,"output":{"text":"Would you like to remove the sweetened ice-tea or the unsweetened ice-tea? Please type sweetened or unsweetened."},"parent":"slot_4_1519175585156","context":null,"metadata":{},"next_step":null,"conditions":null,"event_name":"focus","description":null,"dialog_node":"handler_6_1519175585156","previous_sibling":null},{"type":"event_handler","title":null,"output":{},"parent":"slot_16_1519182001732","context":{"ceaser_dressing":"@ceaser_dressing"},"metadata":{},"next_step":null,"conditions":"@ceaser_dressing","event_name":"input","description":null,"dialog_node":"handler_17_1519182001732","previous_sibling":"handler_18_1519182001732"},{"type":"event_handler","title":null,"output":{"text":"Would you like to remove the one with side dressing or the one with the dressing mixed in the salad? Please type side or mixed."},"parent":"slot_16_1519182001732","context":null,"metadata":{},"next_step":null,"conditions":null,"event_name":"focus","description":null,"dialog_node":"handler_18_1519182001732","previous_sibling":null},{"type":"standard","title":"Bad location","output":{},"parent":"node_92_1518684016177","context":{"default_loc_counter":"<?$default_loc_counter+1?>"},"metadata":{},"next_step":{"behavior":"jump_to","selector":"body","dialog_node":"node_92_1518684016177"},"conditions":"true","description":null,"dialog_node":"node_94_1518686730391","previous_sibling":"node_93_1518686156161"},{"type":"response_condition","title":null,"output":{"text":{"values":["You can pick up your order from any of our 5 locations: San Francisco, San Jose, Berkeley, Carmel and Novato. Please confirm one. You can also type 1, 2 or first, second and so on."],"selection_policy":"sequential"}},"parent":"node_92_1518684016177","context":null,"metadata":{},"next_step":null,"conditions":"$default_loc_counter == 0","description":null,"dialog_node":"node_1_1518745833494","previous_sibling":"node_94_1518686730391"},{"type":"response_condition","title":null,"output":{"text":{"values":["I am sorry, I did not understand that. Please select one of our 5 locations. You can also say first or 1."]}},"parent":"node_92_1518684016177","context":null,"metadata":{},"next_step":null,"conditions":"$default_loc_counter > 0","description":null,"dialog_node":"node_2_1518745841222","previous_sibling":"node_1_1518745833494"},{"type":"standard","title":"Correct location","output":{"text":{"values":["Thanks! Your order will be ready for pick-up at @location.value in 45 minutes. Please start over to place a new order."],"selection_policy":"sequential"}},"parent":"node_92_1518684016177","context":{"order_placed":"yes"},"metadata":{},"next_step":null,"conditions":"@location","description":null,"dialog_node":"node_93_1518686156161","previous_sibling":null},{"type":"response_condition","title":null,"output":{"text":{"values":["Great choice, would you like your ice-tea with or without sugar?"],"selection_policy":"sequential"}},"parent":"node_2_1518656327301","context":{"ordered_items":"<? $ordered_items.append(entities.menu_items[1].literal) ?>"},"disabled":true,"metadata":{},"next_step":null,"conditions":null,"description":null,"dialog_node":"node_3_1518660176478","previous_sibling":"node_6_1518661751236"},{"type":"frame","title":"Check for tea and salad","output":{"text":{"values":[],"selection_policy":"sequential"},"deleted_variable":"<? context.remove('tea_type') ?> <? context.remove('garden_dressing') ?> <? context.remove('ceaser_dressing') ?>"},"parent":"node_2_1518656327301","context":null,"metadata":{"fallback":"leave","_customization":{"mcr":false}},"next_step":{"behavior":"jump_to","selector":"body","dialog_node":"node_88_1518681851237"},"conditions":"true","description":null,"dialog_node":"node_6_1518661751236","digress_out":"allow_all","previous_sibling":null,"digress_out_slots":"not_allowed"},{"type":"event_handler","title":null,"output":{"text":{"values":["I am sorry I did not understand that. Please tell me if you would like the dressing on side or mixed in the salad."],"selection_policy":"sequential"}},"parent":"slot_10_1518665427672","context":null,"metadata":{},"next_step":null,"conditions":null,"event_name":"nomatch","description":null,"dialog_node":"handler_16_1518666466841","previous_sibling":"handler_87_1518681278812"},{"type":"event_handler","title":null,"output":{"text":{"values":["Sure, taking a note of it."],"selection_policy":"sequential"}},"parent":"slot_10_1518665427672","context":null,"metadata":{},"next_step":null,"conditions":null,"event_name":"filled","description":null,"dialog_node":"handler_87_1518681278812","previous_sibling":"handler_11_1518665427672"},{"type":"event_handler","title":null,"output":{},"parent":"slot_10_1518665427672","context":{"garden_dressing":"@garden_dressing","all_garden_salad":"<? $all_garden_salad.append(@garden_dressing) ?>"},"metadata":{},"next_step":null,"conditions":"@garden_dressing","event_name":"input","description":null,"dialog_node":"handler_11_1518665427672","previous_sibling":"handler_12_1518665427672"},{"type":"event_handler","title":null,"output":{"text":"Would you like the dressing on side or mixed in the salad?"},"parent":"slot_10_1518665427672","context":null,"metadata":{},"next_step":null,"conditions":null,"event_name":"focus","description":null,"dialog_node":"handler_12_1518665427672","previous_sibling":null},{"type":"standard","title":"Confirm location","output":{},"parent":"node_1_1518655666734","context":null,"metadata":{"_customization":{"mcr":true}},"next_step":null,"conditions":"$order_confirmed: \"yes\"","description":null,"dialog_node":"node_92_1518684016177","digress_out":"allow_all","previous_sibling":"node_88_1518681851237"},{"type":"standard","title":"Confirm order","output":{},"parent":"node_1_1518655666734","context":null,"metadata":{"_customization":{"mcr":true}},"next_step":null,"conditions":"$ordered_items.size() > 0","description":null,"dialog_node":"node_88_1518681851237","digress_out":"allow_all","previous_sibling":"node_2_1518656327301"},{"type":"standard","title":"Add items to the order","output":{"text":{"values":["Great choice! I can add that to your order.","Sure! I can add that."],"selection_policy":"sequential"}},"parent":"node_1_1518655666734","context":{"new_items":"<? (@menu_items.values) ?>","ordered_items":"<? $ordered_items.append(@menu_items.values) ?>"},"metadata":{"_customization":{"mcr":false}},"next_step":{"behavior":"jump_to","selector":"body","dialog_node":"node_6_1518661751236"},"conditions":"@menu_items","description":null,"dialog_node":"node_2_1518656327301","digress_out":"allow_all","previous_sibling":null},{"type":"standard","title":"Greetings","output":{},"parent":null,"context":null,"metadata":{"_customization":{"mcr":true}},"next_step":null,"conditions":"#greetings","digress_in":"does_not_return","description":null,"dialog_node":"node_1_1519083859469","digress_out":"allow_all","previous_sibling":"node_3_1518746313629"},{"type":"standard","title":"Goodbyes","output":{"text":{"values":["Have a great day! Speak to you soon."],"selection_policy":"sequential"}},"parent":null,"context":null,"metadata":{},"next_step":null,"conditions":"#goodbyes","description":null,"dialog_node":"node_2_1519084140267","previous_sibling":"node_1_1519083859469"},{"type":"standard","title":"Place order","output":{"text":{"values":[],"selection_policy":"sequential"}},"parent":null,"context":null,"metadata":{},"next_step":{"behavior":"jump_to","selector":"condition","dialog_node":"node_2_1518656327301"},"conditions":"@menu_items && $order_placed == \"no\"","description":null,"dialog_node":"node_1_1518655666734","previous_sibling":"Welcome"},{"type":"standard","title":"Anything else","output":{},"parent":null,"context":null,"metadata":{"_customization":{"mcr":true}},"next_step":null,"conditions":"anything_else","digress_in":"does_not_return","description":null,"dialog_node":"Anything else","digress_out":"allow_all","previous_sibling":"node_2_1519084140267"},{"type":"standard","title":"Display Menu","output":{},"parent":null,"context":null,"metadata":{"_customization":{"mcr":true}},"next_step":null,"conditions":"#show_menu && $order_placed == \"no\"","digress_in":"does_not_return","description":null,"dialog_node":"node_3_1518746313629","digress_out":"allow_all","previous_sibling":"node_1_1518655666734"},{"type":"standard","title":"Welcome","output":{"text":{"values":["Hi! Welcome to Fresco. What would you like to order? If you aren't sure yet, ask for our menu."],"selection_policy":"sequential"}},"parent":null,"context":{"all_tea":[],"to_remove":[],"menu_shown":0,"order_placed":"no","ordered_items":[],"default_counter":0,"order_cancelled":"no","order_confirmed":"no","all_ceaser_salad":[],"all_garden_salad":[],"default_loc_counter":0,"default_remove_counter":0,"default_confirm_counter":0},"metadata":{},"next_step":null,"conditions":"welcome","description":null,"dialog_node":"Welcome","previous_sibling":null}],"workspace_id":"fe30ff1d-feb9-4d68-b848-979eea9c022a","counterexamples":[],"learning_opt_out":false}